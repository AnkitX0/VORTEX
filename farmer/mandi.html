<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mandi Prices | AgriTrust</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
<div class="app-container">
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <img src="/mnt/data/93da599d-bdd5-4c75-81ac-173f2ad9b85f.png" alt="AgriTrust Logo" class="logo">
            <span class="brand-name">AgriTrust</span>
            <button class="close-sidebar-btn mobile-only" aria-label="Close Sidebar">&times;</button>
        </div>
        
        <nav class="sidebar-nav">
            <a href="index.html" class="nav-item" data-page="dashboard">
                <span class="icon">üìä</span> Dashboard
            </a>
            <a href="listings.html" class="nav-item" data-page="listings">
                <span class="icon">üì¶</span> My Listings
            </a>
            <a href="orders.html" class="nav-item" data-page="orders">
                <span class="icon">üìù</span> Orders
            </a>
            <a href="mandi.html" class="nav-item active" data-page="mandi">
                <span class="icon">üìà</span> Mandi Prices
            </a>
            <a href="notifications.html" class="nav-item" data-page="notifications">
                <span class="icon">üîî</span> Notifications
            </a>
</nav>

        <div class="user-card">
            <div class="avatar">AS</div>
            <div class="user-info">
                <div class="name">Ankit Singh</div>
                <div class="role">Farmer ‚Ä¢ Verified</div>
            </div>
        </div>
    </aside>

    <main class="main-content">
        <header class="top-bar">
            <div class="left-head">
                <button class="hamburger" aria-label="Toggle Sidebar">‚ò∞</button>
                <div class="breadcrumbs">Mandi Prices</div>
            </div>
            <div class="right-head">
                <div class="search-box">
                    <input type="text" placeholder="Search commodities...">
                </div>
                <button class="icon-btn notif-btn" aria-label="Notifications">
                    üîî<span class="badge" id="notif-badge">0</span>
                </button>
            </div>
        </header>

        <div class="dashboard-content">
            <!-- Food Details panel (API-driven) -->
            <section class="panel" id="food-panel">
                <div class="panel-head">
                    <h2>Current Market Prices</h2>
                    <div>
                        <button id="btn-refresh-food" class="btn-text">Refresh</button>
                        <button id="btn-clear-food-cache" class="btn-text">Clear Cache</button>
                    </div>
                </div>

                <div class="table-responsive">
                    <table class="orders-table" id="food-table">
                        <thead>
                            <tr>
                                <th>Commodity</th>
                                <th>Grade / Type</th>
                                <th>Min Price (‚Çπ/qtl)</th>
                                <th>Max Price (‚Çπ/qtl)</th>
                                <th>Market</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- populated by JS -->
                        </tbody>
                    </table>
                </div>

                <p id="food-api-msg" class="small-text" style="margin-top:8px;color:#666"></p>
            </section>

            <section class="panel">
                <h3>Mandi Price Heatmap</h3>
                <p class="small-text">Vadodara Market Live</p>
                <div class="heatmap-grid" id="heatmap-grid"></div>
                <div class="legend">
                    <span>Low</span>
                    <span class="gradient-bar"></span>
                    <span>High</span>
                </div>
            </section>
        </div>
    </main>
</div>

<script src="app.js"></script>
</body>
</html>